<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>HotSpot参数汇总 :: Keep Improving</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="基本参数 参数 作用 -XX:&#43;PrintGCDetails 打印详细的GC日志 -XX:&#43;PrintGCTimeStamps GC开头的时间为虚拟机启动时间的偏移量 -XX:&#43;PrintGCApplicationStoppedTime 打印引用程序由于GC而产生停顿的时间 -Xloggc:D://log.txt 输出GC日志到D盘下log.txt文件中 -XX:&#43;PrintVMOptions 打印显示传递的参数 -XX:&#43;PrintCommandLineFlags 打印传递给虚拟机的显式和隐式参数 -XX:&#43;PrintFlagsFinal 打印全部参数(包括虚拟机自身的参数) -Xss1m 指定栈大小为1m -Xms10m 初始堆空间大小 -Xmx20m 最大堆空间大小 -Xmn2m 新生代大小 -XX:SurvivorRatio 新生代中eden/s0/s1比例，默认8:1:1 -XX:NewRatio 老年代/新生代的比例，默认2:1 -XX:NewSize 新生代初始大小 -XX:MaxNewSize 新生代大小最大值 -XX:&#43;HeapDumpOnOutOfMemoryError 堆OOM时导出堆的信息 -XX:HeapDumpPath=D://log.dump 将OOM信息导入到D盘下log.dump文件中 -XX:MetaspaceSize=1m 设置元数据区初始大小为1m -XX:MaxMetaspaceSize=2m 设置元数据区大小最大为2m -XX:MaxDirectMemorySize=2m 本机直接内存(堆外内存)最大2m，默认等于-Xmx -XX:&#43;UseTLAB 开启TLAB，默认开启 -XX:&#43;PrintTLAB 打印TLAB信息 -XX:TLABSize=1024 设置TLAB大小为1kb -XX:TLABRefillWasteFraction=64 允许TLAB空间浪费的比例 -XX:-ResizeTLAB 禁止TLAB自动调整大小和浪费比例 -XX:PretenureSizeThreshold=5242880 大于5m对象直接进入老年代，只对Serial、ParNew有用 -XX:MaxTenuringThreshold=15 晋升到老年代的年龄大小 -XX:TargetSurvivorRatio=50 用于动态对象年龄判断的s0的使用率参数，默认50 收集器选择参数 参数 新生代 老年代 -XX:&#43;UseSerialGC Serial Serial Old -XX:&#43;UseParallelGC Parallel Scavenge Parallel Old -XX:&#43;UseParNewGC ParNew Serial Old -XX:&#43;UseConcMarkSweepGC ParNew CMS -XX:UseG1GC G1 G1 收集相关参数 收集器 相关参数 注释 ParNew" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://leejay.top/post/hotspot%E5%8F%82%E6%95%B0%E6%B1%87%E6%80%BB/" />




<link rel="stylesheet" href="https://leejay.top/assets/style.css">






<link rel="apple-touch-icon" href="https://leejay.top/img/favicon.png">

  <link rel="shortcut icon" href="https://leejay.top/img/favicon.png">



<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="HotSpot参数汇总">
<meta property="og:description" content="JVM中日常`调优参数`，收集器选择及相关配套参数" />
<meta property="og:url" content="https://leejay.top/post/hotspot%E5%8F%82%E6%95%B0%E6%B1%87%E6%80%BB/" />
<meta property="og:site_name" content="Keep Improving" />

  
    <meta property="og:image" content="https://leejay.top/img/favicon.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

  <meta property="article:section" content="JVM" />


  <meta property="article:published_time" content="2020-08-28 16:36:54 &#43;0800 &#43;0800" />










<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Code">

</head>
<body class="orange">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="https://leejay.top">
  <div class="logo">
    HelloWorld
  </div>
</a>

    </div>
    
  </div>
  
  
  <script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>

</header>


  <div class="content">
    
<div class="post">
  
  
    









<div class="toc" id="toc_id">

    <div class="page-header"><strong>- CATALOG -</strong></div>

    <div id="page-scrollspy" class="toc-nav">

        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e5%9f%ba%e6%9c%ac%e5%8f%82%e6%95%b0">
                    基本参数
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e6%94%b6%e9%9b%86%e5%99%a8%e9%80%89%e6%8b%a9%e5%8f%82%e6%95%b0">
                    收集器选择参数
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e6%94%b6%e9%9b%86%e7%9b%b8%e5%85%b3%e5%8f%82%e6%95%b0">
                    收集相关参数
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        

    </div>

</div>



  
  <h1 class="post-title">
    <a href="https://leejay.top/post/hotspot%E5%8F%82%E6%95%B0%E6%B1%87%E6%80%BB/">HotSpot参数汇总</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2020-08-28 
      </span>
    
    
  </div>

  
  <span class="post-tags">
    
    #<a href="https://leejay.top/tags/jvm-/">JVM </a>&nbsp;
    
    #<a href="https://leejay.top/tags/collectors/">Collectors</a>&nbsp;
    
  </span>
  

  

  

  <div class="post-content"><div>
        <h3 id="基本参数">基本参数<a href="#基本参数" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>-XX:+PrintGCDetails</code></td>
<td>打印详细的GC日志</td>
</tr>
<tr>
<td style="text-align:left">-XX:+PrintGCTimeStamps</td>
<td>GC开头的时间为虚拟机启动时间的偏移量</td>
</tr>
<tr>
<td style="text-align:left">-XX:+PrintGCApplicationStoppedTime</td>
<td>打印引用程序由于GC而产生停顿的时间</td>
</tr>
<tr>
<td style="text-align:left"><code>-Xloggc:D://log.txt</code></td>
<td>输出GC日志到D盘下log.txt文件中</td>
</tr>
<tr>
<td style="text-align:left">-XX:+PrintVMOptions</td>
<td>打印显示传递的参数</td>
</tr>
<tr>
<td style="text-align:left"><code>-XX:+PrintCommandLineFlags</code></td>
<td>打印传递给虚拟机的<code>显式和隐式</code>参数</td>
</tr>
<tr>
<td style="text-align:left">-XX:+PrintFlagsFinal</td>
<td>打印全部参数<code>(包括虚拟机自身的参数)</code></td>
</tr>
<tr>
<td style="text-align:left">-Xss1m</td>
<td>指定栈大小为1m</td>
</tr>
<tr>
<td style="text-align:left">-Xms10m</td>
<td>初始堆空间大小</td>
</tr>
<tr>
<td style="text-align:left">-Xmx20m</td>
<td>最大堆空间大小</td>
</tr>
<tr>
<td style="text-align:left"><code>-Xmn2m</code></td>
<td>新生代大小</td>
</tr>
<tr>
<td style="text-align:left"><code>-XX:SurvivorRatio</code></td>
<td>新生代中eden/s0/s1比例，默认<code>8:1:1</code></td>
</tr>
<tr>
<td style="text-align:left"><code>-XX:NewRatio</code></td>
<td>老年代/新生代的比例，默认2:1</td>
</tr>
<tr>
<td style="text-align:left">-XX:NewSize</td>
<td>新生代初始大小</td>
</tr>
<tr>
<td style="text-align:left">-XX:MaxNewSize</td>
<td>新生代大小最大值</td>
</tr>
<tr>
<td style="text-align:left"><code>-XX:+HeapDumpOnOutOfMemoryError</code></td>
<td>堆OOM时导出堆的信息</td>
</tr>
<tr>
<td style="text-align:left"><code>-XX:HeapDumpPath=D://log.dump</code></td>
<td>将OOM信息导入到D盘下log.dump文件中</td>
</tr>
<tr>
<td style="text-align:left">-XX:MetaspaceSize=1m</td>
<td>设置元数据区初始大小为1m</td>
</tr>
<tr>
<td style="text-align:left"><code>-XX:MaxMetaspaceSize=2m</code></td>
<td>设置元数据区大小最大为2m</td>
</tr>
<tr>
<td style="text-align:left"><code>-XX:MaxDirectMemorySize=2m</code></td>
<td>本机直接内存(堆外内存)最大2m，默认等于-Xmx</td>
</tr>
<tr>
<td style="text-align:left">-XX:+UseTLAB</td>
<td>开启TLAB，默认开启</td>
</tr>
<tr>
<td style="text-align:left"><code>-XX:+PrintTLAB</code></td>
<td>打印TLAB信息</td>
</tr>
<tr>
<td style="text-align:left">-XX:TLABSize=1024</td>
<td>设置TLAB大小为1kb</td>
</tr>
<tr>
<td style="text-align:left"><code>-XX:TLABRefillWasteFraction=64</code></td>
<td>允许TLAB空间浪费的比例</td>
</tr>
<tr>
<td style="text-align:left">-XX:-ResizeTLAB</td>
<td>禁止TLAB自动调整大小和浪费比例</td>
</tr>
<tr>
<td style="text-align:left">-XX:PretenureSizeThreshold=5242880</td>
<td>大于5m对象直接进入老年代，只对Serial、ParNew有用</td>
</tr>
<tr>
<td style="text-align:left">-XX:MaxTenuringThreshold=15</td>
<td>晋升到老年代的年龄大小</td>
</tr>
<tr>
<td style="text-align:left">-XX:TargetSurvivorRatio=50</td>
<td>用于<code>动态对象年龄</code>判断的s0的使用率参数，默认50</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="收集器选择参数">收集器选择参数<a href="#收集器选择参数" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<table>
<thead>
<tr>
<th>参数</th>
<th>新生代</th>
<th>老年代</th>
</tr>
</thead>
<tbody>
<tr>
<td>-XX:+UseSerialGC</td>
<td>Serial</td>
<td>Serial Old</td>
</tr>
<tr>
<td><code>-XX:+UseParallelGC</code></td>
<td>Parallel Scavenge</td>
<td>Parallel Old</td>
</tr>
<tr>
<td>-XX:+UseParNewGC</td>
<td>ParNew</td>
<td>Serial Old</td>
</tr>
<tr>
<td><code>-XX:+UseConcMarkSweepGC</code></td>
<td>ParNew</td>
<td>CMS</td>
</tr>
<tr>
<td><code>-XX:UseG1GC</code></td>
<td>G1</td>
<td>G1</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="收集相关参数">收集相关参数<a href="#收集相关参数" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<table>
<thead>
<tr>
<th style="text-align:left">收集器</th>
<th>相关参数</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ParNew<br>Parallel<br>CMS<br>G1<br>Parallel Old</td>
<td>-XX:ParallelGCThreads=n</td>
<td>指定并行回收线程数<br><code>n=cores&lt;8?cores:3+((5*cores))/8)</code></td>
</tr>
<tr>
<td style="text-align:left">Parallel</td>
<td>-XX:MaxGCPauseMillis=n<br>-XX:GCTimeRatio=n<br>-XX:+UseAdaptiveSizePolicy</td>
<td>最大回收停顿时长<br>不超过<code>1/1+n</code>时间进行回收<br>自适应GC策略</td>
</tr>
<tr>
<td style="text-align:left">CMS</td>
<td>-XX:CMSInitiatingOccupancyFraction=n<br>-XX:CMSFullGCBeforeCompaction=n<br>-XX:+UseCMSCompactAtFullCollection</td>
<td>老年代容量到n时CMS开始工作，默认92<br>CMSn次FullGC后开启碎片整理，默认0<br>CMS进行FullGC时开启碎片整理</td>
</tr>
<tr>
<td style="text-align:left">G1</td>
<td>-XX:G1HeapRegionSize<br>-XX:MaxGCPauseMillis<br>-XX:InitiatingHeapOccupancyPercent</td>
<td>指定Region大小，默认1MB，最大32MB<br>垃圾收集时停顿时长，默认200ms<br>堆使用率达到n后开启并发标记，默认45</td>
</tr>
</tbody>
</table>
<hr>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">其他文章</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="https://leejay.top/post/jvm%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/">
                <span class="button__icon">←</span>
                <span class="button__text">Jvm类加载机制</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="https://leejay.top/post/hotspot%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8/">
                <span class="button__text">HotSpot垃圾收集器</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">
        <span>苏ICP备18050258号-1</span>
    
        
      </div>
  </div>
</footer>

<script src="https://leejay.top/assets/main.js"></script>
<script src="https://leejay.top/assets/prism.js"></script>






  
</div>

</body>
</html>
