<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Java中的进制与位运算 :: Keep Improving</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="进制详解 包括二进制、八进制、十进制和十六进制, 计算机由电路构成, 只有0/1两种状态, 所以采用的是二进制
二进制 由0 和 1组成, 计算机内部都是二进制的形式存储的。 进行加法运算的时候逢二进一, 减法运算的时候借一当二。在java中0b开头表示二进制值
十进制 由0~9的数字组成, 加法计算时逢十进一, 减法计算时借一当十。十进制是人类发展中自然形成的
八进制 由0~7的数字组成, 加法计算时逢八进一, 减法计算时借一当八。java中要求第一位是0开始
十六进制 由0~9,A(10),B(11),C(12),D(13),E(14),F(15)(不区分大小写)组成, 加法计算时逢十六进一, 减法计算时借一当十六。java中要求以0x开始
进制互相换算 二进制 -&amp;gt; 十进制 假设一个二进制是 1011(3210), 从右往左开始分别是 0、1、2、3 位, 那么它的十进制值为:
1*2^3 &#43; 0*2^2 &#43; 1*2^1 &#43; 1*2^0 =&amp;gt; 8 &#43; 0 &#43; 2 &#43; 1 =&amp;gt; 13 十进制 -&amp;gt; 二进制 假设一个十进制是 13, 一种方法是除二反序取余法, 计算如下:
13/2 = 6 余 1 6/2 = 3 余 0 3/2 = 1 余 1 1/2 = 0 余 1 反序取余数值, 结果是: 1101 另一种计算如下:" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://leejay.top/post/java%E4%B8%AD%E7%9A%84%E8%BF%9B%E5%88%B6%E4%B8%8E%E4%BD%8D%E8%BF%90%E7%AE%97/" />




<link rel="stylesheet" href="https://leejay.top/assets/style.css">






<link rel="apple-touch-icon" href="https://leejay.top/img/favicon.png">

  <link rel="shortcut icon" href="https://leejay.top/img/favicon.png">



<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Java中的进制与位运算">
<meta property="og:description" content="二进制、八进制、十进制、十六进制与位运算" />
<meta property="og:url" content="https://leejay.top/post/java%E4%B8%AD%E7%9A%84%E8%BF%9B%E5%88%B6%E4%B8%8E%E4%BD%8D%E8%BF%90%E7%AE%97/" />
<meta property="og:site_name" content="Keep Improving" />

  
    <meta property="og:image" content="https://leejay.top/img/favicon.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

  <meta property="article:section" content="Java" />


  <meta property="article:published_time" content="2022-04-08 14:44:27 &#43;0800 &#43;0800" />










<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Code">

</head>
<body class="orange">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="https://leejay.top">
  <div class="logo">
    HelloWorld
  </div>
</a>

    </div>
    
  </div>
  
  
  <script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>

</header>


  <div class="content">
    
<div class="post">
  
  
    









<div class="toc" id="toc_id">

    <div class="page-header"><strong>- CATALOG -</strong></div>

    <div id="page-scrollspy" class="toc-nav">

        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e8%bf%9b%e5%88%b6%e8%af%a6%e8%a7%a3">
                    进制详解
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e8%bf%9b%e5%88%b6%e4%ba%92%e7%9b%b8%e6%8d%a2%e7%ae%97">
                    进制互相换算
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e4%bd%8d%e8%bf%90%e7%ae%97">
                    位运算
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e4%b8%8e%e8%bf%90%e7%ae%97">
                    与运算
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e6%88%96%e8%bf%90%e7%ae%97">
                    或运算
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e5%bc%82%e6%88%96">
                    异或
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e5%8f%96%e5%8f%8d%e8%bf%90%e7%ae%97">
                    取反运算
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e7%a7%bb%e4%bd%8d%e8%bf%90%e7%ae%97">
                    移位运算
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e8%b4%9f%e6%95%b0%e7%9a%84%e4%ba%8c%e8%bf%9b%e5%88%b6">
                    负数的二进制
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e8%b4%9f%e6%95%b0%e7%9a%84%e8%ae%a1%e7%ae%97">
                    负数的计算
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e8%b4%9f%e6%95%b0%e7%9a%84%e7%a7%bb%e4%bd%8d">
                    负数的移位
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link" href="#%e8%bf%9b%e5%88%b6%e7%a7%bb%e4%bd%8d%e5%b0%8f%e6%8a%80%e5%b7%a7">
                    进制移位小技巧
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        

    </div>

</div>



  
  <h1 class="post-title">
    <a href="https://leejay.top/post/java%E4%B8%AD%E7%9A%84%E8%BF%9B%E5%88%B6%E4%B8%8E%E4%BD%8D%E8%BF%90%E7%AE%97/">Java中的进制与位运算</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2022-04-08 
      </span>
    
    
  </div>

  
  <span class="post-tags">
    
    #<a href="https://leejay.top/tags/java-/">Java </a>&nbsp;
    
  </span>
  

  

  

  <div class="post-content"><div>
        <h3 id="进制详解">进制详解<a href="#进制详解" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>包括二进制、八进制、十进制和十六进制, 计算机由电路构成, 只有0/1两种状态, 所以采用的是二进制</p>
<ul>
<li>二进制</li>
</ul>
<p>由0 和 1组成, 计算机内部都是二进制的形式存储的。 进行加法运算的时候逢二进一, 减法运算的时候借一当二。在java中0b开头表示二进制值</p>
<ul>
<li>十进制</li>
</ul>
<p>由0~9的数字组成, 加法计算时逢十进一, 减法计算时借一当十。十进制是人类发展中自然形成的</p>
<ul>
<li>八进制</li>
</ul>
<p>由0~7的数字组成, 加法计算时逢八进一, 减法计算时借一当八。java中要求第一位是0开始</p>
<ul>
<li>十六进制</li>
</ul>
<p>由0~9,A(10),B(11),C(12),D(13),E(14),F(15)(不区分大小写)组成, 加法计算时逢十六进一, 减法计算时借一当十六。java中要求以0x开始</p>
<hr>
<h3 id="进制互相换算">进制互相换算<a href="#进制互相换算" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<ul>
<li>二进制 -&gt; 十进制</li>
</ul>
<p>假设一个二进制是 1011(3210), 从右往左开始分别是 0、1、2、3 位, 那么它的十进制值为:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>   1<span style="color:#f92672">*</span>2<span style="color:#f92672">^</span>3 <span style="color:#f92672">+</span> 0<span style="color:#f92672">*</span>2<span style="color:#f92672">^</span>2 <span style="color:#f92672">+</span> 1<span style="color:#f92672">*</span>2<span style="color:#f92672">^</span>1 <span style="color:#f92672">+</span> 1<span style="color:#f92672">*</span>2<span style="color:#f92672">^</span>0 <span style="color:#f92672">=&gt;</span> 8 <span style="color:#f92672">+</span> 0 <span style="color:#f92672">+</span> 2 <span style="color:#f92672">+</span> 1 <span style="color:#f92672">=&gt;</span> 13
</span></span></code></pre></div><ul>
<li>十进制 -&gt; 二进制</li>
</ul>
<p>假设一个十进制是 13, 一种方法是<code>除二反序取余法</code>, 计算如下:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>   13<span style="color:#f92672">/</span>2 <span style="color:#f92672">=</span> 6 余 1
</span></span><span style="display:flex;"><span>   6<span style="color:#f92672">/</span>2 <span style="color:#f92672">=</span> 3 余 0
</span></span><span style="display:flex;"><span>   3<span style="color:#f92672">/</span>2 <span style="color:#f92672">=</span> 1 余 1
</span></span><span style="display:flex;"><span>   1<span style="color:#f92672">/</span>2 <span style="color:#f92672">=</span> 0 余 1
</span></span><span style="display:flex;"><span>   反序取余数值<span style="color:#f92672">,</span> 结果是<span style="color:#f92672">:</span> 1101
</span></span></code></pre></div><p>另一种计算如下:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> 13 <span style="color:#f92672">=&gt;</span> 1<span style="color:#f92672">*</span>2<span style="color:#f92672">^</span>3 <span style="color:#f92672">+</span> 1<span style="color:#f92672">*</span>2<span style="color:#f92672">^</span>2 <span style="color:#f92672">+</span> 0<span style="color:#f92672">*</span>2<span style="color:#f92672">^</span>1 <span style="color:#f92672">+</span> 1<span style="color:#f92672">*</span>2<span style="color:#f92672">^</span>0
</span></span></code></pre></div><ul>
<li>二进制 -&gt; 八进制</li>
</ul>
<p>假设一个二进制是 10110101, 从右往左每<code>三位</code>一组<code>(不足补 0, 二进制三位最大值是 7(111), 最小值是 0, 逢八进一, 这也是八进制的由来)</code>分别是:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>  010 110 101 对应的结果是<span style="color:#f92672">:</span> 010<span style="color:#f92672">(</span>2<span style="color:#f92672">)</span> 110<span style="color:#f92672">(</span>6<span style="color:#f92672">)</span> 101<span style="color:#f92672">(</span>5<span style="color:#f92672">)</span> <span style="color:#f92672">=&gt;</span> 265
</span></span></code></pre></div><ul>
<li>二进制 -&gt; 十六进制</li>
</ul>
<p>假设一个二进制是 110110101, 从右往左每<code>四位</code>一组<code>(不足补 0, 二进制四位数最大值是 15(1111), 最小值是0, 逢十六进一， 也是十六进制的由来)</code>分别是:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>  0001 1011 0101 对应的结果是<span style="color:#f92672">:</span> 1 <span style="color:#a6e22e">11</span><span style="color:#f92672">(</span>B<span style="color:#f92672">)</span> 5 <span style="color:#f92672">=&gt;</span> 1B5
</span></span></code></pre></div><hr>
<h3 id="位运算">位运算<a href="#位运算" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h4 id="与运算">与运算<a href="#与运算" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p><code>两个操作数都是1, 结果是1, 否则是0</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// 17
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">byte</span> a <span style="color:#f92672">=</span> 0b00010001<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 10010001 -&gt; 10010000 -&gt; 11101111 -&gt; -(64+32+8+4+2+1) -&gt; -111
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">byte</span> b <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">byte</span><span style="color:#f92672">)</span> 0b10010001<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 都1取1 否则取0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *   0001 0001
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * &amp; 1001 0001
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * ————————————
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *   0001 0001
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *          17
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;移位&amp;运算: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>a <span style="color:#f92672">&amp;</span> b<span style="color:#f92672">));</span> <span style="color:#75715e">// 17
</span></span></span></code></pre></div><h4 id="或运算">或运算<a href="#或运算" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p><code>两个操作数有一个是1, 结果是1, 否则是0</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// 17
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">byte</span> a <span style="color:#f92672">=</span> 0b00010001<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 10010001 -&gt; 10010000 -&gt; 11101111 -&gt; -(64+32+8+4+2+1) -&gt; -111
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">byte</span> b <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">byte</span><span style="color:#f92672">)</span> 0b10010001<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 有1为1 无1为0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *   0001 0001
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * | 1001 0001
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * —————————————
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *   1001 0001
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * —————————————
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 原 1110 1111
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *         -111
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;移位|运算: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>a <span style="color:#f92672">|</span> b<span style="color:#f92672">));</span><span style="color:#75715e">// -111
</span></span></span></code></pre></div><h4 id="异或">异或<a href="#异或" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p><code>两个操作数相同则为0, 不相同则为1</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// 17
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">byte</span> a <span style="color:#f92672">=</span> 0b00010001<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 10010001 -&gt; 10010000 -&gt; 11101111 -&gt; -(64+32+8+4+2+1) -&gt; -111
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">byte</span> b <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">byte</span><span style="color:#f92672">)</span> 0b10010001<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  * 相同为0 不同为1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  *   0001 0001
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  * ^ 1001 0001
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  * ————————————
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  *   1000 0000
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  * ————————————
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  *     -128(-0)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  */</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;移位^运算: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>a <span style="color:#f92672">^</span> b<span style="color:#f92672">));</span> <span style="color:#75715e">// -128
</span></span></span></code></pre></div><h4 id="取反运算">取反运算<a href="#取反运算" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p><code>对操作数取相反值</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// 10010001 -&gt; 10010000 -&gt; 11101111 -&gt; -(64+32+8+4+2+1) -&gt; -111
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">byte</span> b <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">byte</span><span style="color:#f92672">)</span> 0b10010001<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#75715e">/*  直接取反
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  * ~ 1001 0001
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  * ————————————
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  *   0110 1110
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  *         110
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  */</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;移位取反运算: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(~</span>b<span style="color:#f92672">));</span><span style="color:#75715e">// 110
</span></span></span></code></pre></div><h4 id="移位运算">移位运算<a href="#移位运算" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p><code>包括左移&lt;&lt; 和 右移 &gt;&gt;, 1 &lt;&lt; 2 表示1左移2位, 1 &gt;&gt; 1 表示1右移1位</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>   101011001
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;</span>         2
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">——————————————</span>
</span></span><span style="display:flex;"><span>   101100100
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">如果左移没有改变最高位</span><span style="color:#f92672">(</span>符号位<span style="color:#f92672">),</span> 那么将一个整数左移1位相当于乘以2<span style="color:#f92672">,</span> 编译器做移位比乘法快的多<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   101011001
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;</span>         2
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">——————————————</span>
</span></span><span style="display:flex;"><span>   001010110
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>同理如果没有改变最高位<span style="color:#f92672">,</span> 那么右移一位相当于除以2
</span></span></code></pre></div><hr>
<h3 id="负数的二进制">负数的二进制<a href="#负数的二进制" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h4 id="负数的计算">负数的计算<a href="#负数的计算" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p>因为负数的二进制表达以及位运算的特殊性, 所以单独提出来解释, 在此之前需要了解机器数, 真值, 原码, 反码, 补码的概念</p>
<ul>
<li>
<p>机器数</p>
<p>一个数在计算机中的二进制表示形式, 叫做这个数的机器数。机器数是带符号的，在计算机用一个数的最高位存放符号, 正数为0, 负数为1</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#f92672">+</span>1 <span style="color:#f92672">-&gt;</span> 0000 0001
</span></span><span style="display:flex;"><span> <span style="color:#f92672">-</span>1 <span style="color:#f92672">-&gt;</span> 1000 0001
</span></span></code></pre></div></li>
<li>
<p>真值</p>
<p>因为第一位是符号位, 所以机器数的形式值 ≠ 真正的数值。 比如 1000 0001 其真值是 -1, 而其形式值是129(转成十进制: 2^7 + 2^0)。我们将带符号位的机器数对应的真正数值称为机器数的真值</p>
</li>
<li>
<p>原码</p>
<p>原码就是真值的绝对值加上符号位(最高位), 正数用0, 负数用1表示</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// 假设8bit的二进制的原码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">+</span>1 <span style="color:#f92672">-&gt;</span> 0 0000001
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span>1 <span style="color:#f92672">-&gt;</span> 1 0000001
</span></span></code></pre></div></li>
<li>
<p>反码</p>
<p>正数的反码是其本身, 负数的反码是在原码的基础上, 保持符号位不变, 其余的位执行取反操作</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// 假设8bit的二进制的反码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">+</span>1 <span style="color:#f92672">-&gt;</span> 0 0000001 <span style="color:#f92672">-&gt;</span> 0 0000001
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span>1 <span style="color:#f92672">-&gt;</span> 1 0000001 <span style="color:#f92672">-&gt;</span> 1 1111110
</span></span></code></pre></div></li>
<li>
<p>补码</p>
<p>正数的补码就是其本身, 负数的补码就是在其反码的基础上 + 1</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// 假设8bit的二进制的补码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//真值   原码         反码         补码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">+</span>1 <span style="color:#f92672">-&gt;</span> 0 0000001 <span style="color:#f92672">-&gt;</span> 0 0000001 <span style="color:#f92672">-&gt;</span> 0 0000001
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span>1 <span style="color:#f92672">-&gt;</span> 1 0000001 <span style="color:#f92672">-&gt;</span> 1 1111110 <span style="color:#f92672">-&gt;</span> 1 1111111
</span></span></code></pre></div></li>
<li>
<p>为什么要使用原码, 反码和补码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>  1<span style="color:#f92672">.</span> 首先在计算机中<span style="color:#f92672">,</span> 为了计算机运算设计的更简单<span style="color:#f92672">,</span> 符号位也参与计算<span style="color:#f92672">,</span> 其次计算机是只有加法没有减法的<span style="color:#f92672">,</span> 减法是用正数加负数来实现的<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  2<span style="color:#f92672">.</span> 如果我们分别使用原码<span style="color:#f92672">,</span> 反码和补码进行1<span style="color:#f92672">+(-</span>1<span style="color:#f92672">)</span>大小是8bit的计算<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            1                   1                 <span style="color:#a6e22e">1</span>               <span style="color:#f92672">(-</span>1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">+</span>       <span style="color:#f92672">(-</span>1<span style="color:#f92672">)</span>      <span style="color:#f92672">+</span>         <span style="color:#f92672">(-</span>1<span style="color:#f92672">)</span>    <span style="color:#f92672">+</span>         <span style="color:#f92672">(-</span>1<span style="color:#f92672">)</span>    <span style="color:#f92672">+</span>       <span style="color:#f92672">(-</span>127<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">——————————————</span>    <span style="color:#960050;background-color:#1e0010">——————————————</span>    <span style="color:#960050;background-color:#1e0010">——————————————</span>    <span style="color:#960050;background-color:#1e0010">——————————————</span>
</span></span><span style="display:flex;"><span>  原码 0000 0001     反码 0000 0001     补码 0000 0001    补码 1111 1111
</span></span><span style="display:flex;"><span>  原码 1000 0001     反码 1111 1110     补码 1111 1111    补码 1000 0001
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">——————————————</span>    <span style="color:#960050;background-color:#1e0010">——————————————</span>    <span style="color:#960050;background-color:#1e0010">——————————————</span>    <span style="color:#960050;background-color:#1e0010">——————————————</span>
</span></span><span style="display:flex;"><span>      1000 0010     反码  1111 1111    补码 10000 0000   补码 11000 0000
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">——————————————</span>    <span style="color:#960050;background-color:#1e0010">——————————————</span>    <span style="color:#960050;background-color:#1e0010">——————————————</span>    <span style="color:#960050;background-color:#1e0010">——————————————</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-</span>2      原码  1000 0000    原码 0000 0000    原码  1000 0000
</span></span><span style="display:flex;"><span>                    <span style="color:#960050;background-color:#1e0010">——————————————</span>    <span style="color:#960050;background-color:#1e0010">——————————————</span>    <span style="color:#960050;background-color:#1e0010">——————————————</span>
</span></span><span style="display:flex;"><span>                                <span style="color:#f92672">-</span>0                 0              <span style="color:#f92672">-</span>128
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  3<span style="color:#f92672">.</span> 综合上面的结果<span style="color:#f92672">,</span> 原码的结果肯定是不对的<span style="color:#f92672">,</span> 反码的结果问题在于<span style="color:#f92672">+</span>0 <span style="color:#f92672">&amp;</span> <span style="color:#f92672">-</span>0<span style="color:#f92672">,</span> 而补码的结果是正确的<span style="color:#f92672">,</span> 但是还有一个<span style="color:#f92672">-</span>0<span style="color:#f92672">,</span> 通过计算发现<span style="color:#f92672">(-</span>1<span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(-</span>127<span style="color:#f92672">)</span>的正常结果是<span style="color:#f92672">-</span>128<span style="color:#f92672">,</span> 而补码的计算结果是1000 0000<span style="color:#f92672">,</span> 所以我们<span style="color:#f92672">-</span>128的补码由1000 <span style="color:#a6e22e">0000</span><span style="color:#f92672">(</span>需要注意的是<span style="color:#f92672">-</span>128没有原码和反码<span style="color:#f92672">)</span>表示<span style="color:#f92672">,</span> 这样能够解决<span style="color:#f92672">+</span>0<span style="color:#f92672">&amp;-</span>0的问题
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  4<span style="color:#f92672">.</span> 这样也能解释为什么在java语言中<span style="color:#f92672">,</span> 基本数据类型byte的范围是<span style="color:#f92672">[-</span>128<span style="color:#f92672">,</span> 127<span style="color:#f92672">],</span> 因为它们存储的时候是用补码<span style="color:#f92672">(-</span>0用于表示<span style="color:#f92672">-</span>128<span style="color:#f92672">),</span> 程序运行展示的数据是原码的十进制<span style="color:#f92672">(</span>需要补码<span style="color:#f92672">-&gt;</span>原码<span style="color:#f92672">-&gt;</span>十进制转换<span style="color:#f92672">)</span><span style="color:#960050;background-color:#1e0010">。</span>如果是使用反码表示<span style="color:#f92672">,</span> 范围就是<span style="color:#f92672">[-</span>2<span style="color:#f92672">^(</span>n<span style="color:#f92672">-</span>1<span style="color:#f92672">)+</span>1<span style="color:#f92672">...-</span>0<span style="color:#f92672">,</span> <span style="color:#f92672">+</span>0<span style="color:#f92672">...+</span>2<span style="color:#f92672">^(</span>n<span style="color:#f92672">-</span>1<span style="color:#f92672">)-</span>1<span style="color:#f92672">]</span><span style="color:#960050;background-color:#1e0010">。</span>这里有个特殊的类型<span style="color:#f92672">:</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">,</span> 因为它没有负数<span style="color:#f92672">,</span> 所以范围是<span style="color:#f92672">[</span>0<span style="color:#f92672">,</span> 2<span style="color:#f92672">^</span>16<span style="color:#f92672">-</span>1<span style="color:#f92672">]</span>
</span></span></code></pre></div></li>
<li>
<p>java 中进制的表示</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>  <span style="color:#75715e">// 定义基本数据类型的数据, 其大小不能超过默认大小, 比如byte -&gt; 8bit
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;--------------------------binary------------------------------------ &#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// java中0b开头表示二进制
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">byte</span> a <span style="color:#f92672">=</span> 0b00000011<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 补码: 0 0000011 -&gt; 反码: 0 0000010 -&gt; 原码: 0 0000010 -&gt; 十进制展示: 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;positive binary: &#34;</span> <span style="color:#f92672">+</span> a<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">byte</span> b <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">byte</span><span style="color:#f92672">)</span> 0b10000001<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 补码: 1 0000001 -&gt; 反码: 1 0000000 -&gt; 原码: 1 1111111 -&gt; 十进制展示: -127
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;negative binary: &#34;</span> <span style="color:#f92672">+</span> b<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;---------------------------Octal------------------------------------ &#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 如果八进制存在大于8的数字肯定是不对的
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// 补码: 0000 0000 0000 0000 0000 0000 0001 0100 -&gt; 原码: 0000 0000 0000 0000 0000 0000 0001 0100
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">int</span> c <span style="color:#f92672">=</span> 014<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;positive Octal -&gt; Binary: &#34;</span> <span style="color:#f92672">+</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">toBinaryString</span><span style="color:#f92672">(</span>c<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 补码: 1000 0000 0000 0000 0000 0000 0001 0100 -&gt; 原码: 1111 1111 1111 1111 1111 1110 1100
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">int</span> d <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>014<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;negative Octal -&gt; Binary: &#34;</span> <span style="color:#f92672">+</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">toBinaryString</span><span style="color:#f92672">(</span>d<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;---------------------------Hex------------------------------------ &#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 补码: 0000 0000 0000 0000 0000 0000 0001 1111 -&gt; 原码: 0000 0000 0000 0000 0000 0000 0001 1111
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">int</span> e <span style="color:#f92672">=</span> 0x1f<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;positive hex -&gt; Binary: &#34;</span> <span style="color:#f92672">+</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">toBinaryString</span><span style="color:#f92672">(</span>e<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 补码: 1000 0000 0000 0000 0000 0000 0001 1111 -&gt; 原码: 1111 1111 1111 1111 1111 1110 0001
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">int</span> f <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>0x1f<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;negative hex -&gt; Binary: &#34;</span> <span style="color:#f92672">+</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">toBinaryString</span><span style="color:#f92672">(</span>f<span style="color:#f92672">));</span>
</span></span></code></pre></div></li>
</ul>
<h4 id="负数的移位">负数的移位<a href="#负数的移位" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p><code>移位运算分为有符号移位和无符号移位, 分别用 &lt;&lt; &gt;&gt; &amp; &lt;&lt;&lt; &gt;&gt;&gt; 表示. 在 java 语言中, 只有 &lt;&lt;, &gt;&gt;, &gt;&gt;&gt; 三种, 使用 &lt;&lt;&lt; 编辑器会报错</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>  <span style="color:#75715e">/* java 不支持 无符号左移, 支持有符号左右移位&amp;无符号右移 */</span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;------------------------正数移位------------------------&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 0000 0011 &lt;&lt; 2 -&gt; 0000 1100 -&gt; 12
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// 正数左移 低位补0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">byte</span> a <span style="color:#f92672">=</span> 0b00000011 <span style="color:#f92672">&lt;&lt;</span> 2<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;有符号位正数左移2位: &#34;</span> <span style="color:#f92672">+</span> a<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 0000 0111 &gt;&gt;  0000 0001 -&gt; 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// 正数右移 高位补0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">byte</span> b <span style="color:#f92672">=</span> 0b00000111 <span style="color:#f92672">&gt;&gt;</span> 2<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;有符号位正数右移2位: &#34;</span> <span style="color:#f92672">+</span> b<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 0000 1111 &gt;&gt;&gt; 0000 0001 -&gt; 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// 无符号右移 高位补0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">byte</span> c <span style="color:#f92672">=</span> 0b00001111 <span style="color:#f92672">&gt;&gt;&gt;</span> 3<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;无符号位正数右移3位: &#34;</span> <span style="color:#f92672">+</span> c<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;-------------------------二进制负数移位------------------------&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 补码: 1000 1011 -&gt; 左移2位 0010 1100 -&gt; 十进制 2^5+2^3+2^2 -&gt; 44
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// 负数先移位后计算原码, 负数左移低位补0(包括符号位), 负数左移有正有负, 一直左移最终会变成0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">byte</span> d <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">byte</span><span style="color:#f92672">)</span> <span style="color:#f92672">(</span>0b10001011 <span style="color:#f92672">&lt;&lt;</span> 2<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;有符号位负数左移2位: &#34;</span> <span style="color:#f92672">+</span> d<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 补码: 1000 1011 -&gt; 右移2位 0010 0010 -&gt; 十进制 2^5 + 2^1 -&gt; 34
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// 负数右移(包括符号位), 高位补1, 如果一直右移最终会变成-1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">byte</span> e <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">byte</span><span style="color:#f92672">)(</span>0b10001011 <span style="color:#f92672">&gt;&gt;</span> 2<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;有符号位负数右移2位: &#34;</span> <span style="color:#f92672">+</span> e<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//补码: 1000 1011 -&gt; 右移3位 0001 0001 -&gt; 十进制 2^4 + 2^0 -&gt; 17
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// 负数无符号右移(包括符号位), 高位补0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">byte</span> f <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">byte</span><span style="color:#f92672">)(</span>0b10001011 <span style="color:#f92672">&gt;&gt;&gt;</span> 3<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;无符号负数右移3位: &#34;</span> <span style="color:#f92672">+</span> f<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;-------------------------十进制负数移位------------------------&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 十进制 -&gt; 补码 -&gt; 移位 -&gt; 原码 -&gt; 十进制
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// -1 -&gt; 1000 0000 0000 0000 0000 0000 0000 0001 原码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">//    -&gt; 1111 1111 1111 1111 1111 1111 1111 1111 补码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">//    -&gt; 0111 1111 1111 1111 1111 1111 1111 1111 移位1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">//    -&gt; 2^30 + 2^29 + ... + 2 + 2^0 -&gt; 2147483647
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(-</span>1 <span style="color:#f92672">&gt;&gt;&gt;</span> 1<span style="color:#f92672">);</span>
</span></span></code></pre></div><ul>
<li>移位对照表</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>有符号左移 &laquo;</th>
<th>有符号右移 &raquo;</th>
<th>无符号右移 &raquo;&gt;</th>
</tr>
</thead>
<tbody>
<tr>
<td>正数</td>
<td>低位补 0</td>
<td>高位补 0</td>
<td>高位补 0</td>
</tr>
<tr>
<td>负数</td>
<td>低位补 0</td>
<td>高位补 1</td>
<td>高位补 0</td>
</tr>
</tbody>
</table>
<blockquote>
<ol>
<li>在Java代码中，正常的数字都是代表着这个数的十进制，比如<code>byte a = 1，而二进制用0b、八进制用0、十六进制用0x开头。</code></li>
<li>如果代码中数字是二进制数数a，移位需要遵循: <code>a(补码) -&gt; 移位 -&gt; 十进制(计算的时候不包括符号位)，移位的时候包括符号位。</code></li>
<li>如果代码中数字是十进制数b，移位需要遵循: <code>b(十进制) -&gt; b二进制原码 -&gt; b二进制补码 -&gt; 移位 -&gt; 移位后补码 -&gt; 移位后反码 -&gt; 移位后原码 -&gt; 十进制(计算的时候不包括符号位)。</code></li>
<li>有符号负数左移的时候并不能保证还是正数, 有符号负数右移一直是负数。</li>
</ol>
</blockquote>
<hr>
<h3 id="进制移位小技巧">进制移位小技巧<a href="#进制移位小技巧" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<ul>
<li>取模运算(HashMap)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>x <span style="color:#f92672">%</span> 2<span style="color:#f92672">^</span>n <span style="color:#f92672">=</span> x <span style="color:#f92672">&amp;</span> <span style="color:#f92672">(</span>2<span style="color:#f92672">^</span>n<span style="color:#f92672">-</span>1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ex:
</span></span><span style="display:flex;"><span>7 <span style="color:#f92672">%</span> 2<span style="color:#f92672">^</span>2 <span style="color:#f92672">=</span> 3
</span></span><span style="display:flex;"><span>7 <span style="color:#f92672">&amp;</span> <span style="color:#f92672">(</span>2<span style="color:#f92672">^</span>2 <span style="color:#f92672">-</span> 1<span style="color:#f92672">)</span> <span style="color:#f92672">=</span> 3
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  0000 0111
</span></span><span style="display:flex;"><span><span style="color:#f92672">&amp;</span> 0000 0011
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">————————————</span>
</span></span><span style="display:flex;"><span>  0000 0011
</span></span></code></pre></div><blockquote>
<p>需要注意的是: 被除数必须是2^n，否则该公式不成立</p>
</blockquote>
<ul>
<li>绝对值运算(HashTable)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">|</span>x<span style="color:#f92672">|</span> <span style="color:#f92672">=</span> x <span style="color:#f92672">&amp;</span> 0x7FFFFFFF
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ex:
</span></span><span style="display:flex;"><span><span style="color:#f92672">|-</span>1<span style="color:#f92672">|</span> <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>1 <span style="color:#f92672">&amp;</span> 0x7FFFFFFF
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  1000 0000 0000 0000 0000 0000 0000 0001
</span></span><span style="display:flex;"><span><span style="color:#f92672">&amp;</span> 0111 1111 1111 1111 1111 1111 1111 1111
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">——————————————————————————————————————————</span>
</span></span><span style="display:flex;"><span>  0000 0000 0000 0000 0000 0000 0000 0001
</span></span></code></pre></div>
      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">其他文章</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="https://leejay.top/post/tinyproxy%E8%BD%BB%E9%87%8F%E4%BB%A3%E7%90%86%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/">
                <span class="button__icon">←</span>
                <span class="button__text">Tinyproxy轻量代理使用教程</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="https://leejay.top/post/kube-eventer%E5%9F%BA%E4%BA%8Emysql%E7%9A%84%E4%BD%BF%E7%94%A8/">
                <span class="button__text">Kube Eventer基于mysql的使用</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">
        <span>苏ICP备18050258号</span>
    
        
      </div>
  </div>
</footer>

<script src="https://leejay.top/assets/main.js"></script>
<script src="https://leejay.top/assets/prism.js"></script>






  
</div>

</body>
</html>
